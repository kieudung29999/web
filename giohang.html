<!DOCTYPE html>
<html>
<head>
    <title>Giỏ hàng</title>
    <script src="https://kit.fontawesome.com/1147679ae7.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="stylegiohang.css">
</head>
<body>
     <section>
            <header>
            <input type="checkbox" id="thanh">
            <label for="thanh" class="fas fa-bars"></label>
            <a href="#" class="logo">Cửa hàng hoa quả sạch Organic Food</a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">   
                </ul>
            </div>
            <div class="icons">
                <a class="navbar-brand" href="#">
                    <img src="img/logo.png" alt="Logo" style="height: 40px;">
                </a>
            </div>
        </header>
    </section>
    <section>
        <div class="container">
            <div class="cart-content row">
                <div class="cart-content-left">
                    <table>
                        <tr>
                            <td>Sản phẩm</td>
                            <td>Tên sản phẩm</td>
                            <td>Số lượng</td>
                            <td>Thành tiền</td>
                            <td>Xóa</td>
                        </tr>
                         <tr>
                                <td><img src="img/produ_42.png" alt=""></td>
                                <td><p>Sung Mỹ Hữu Cơ</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>145,000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_41.png" alt=""></td>
                                <td><p>Việt Quất Mỹ</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>105.000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_39.png" alt=""></td>
                                <td><p>Dâu Tây giống Nhật Sky</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>190,000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_36.png" alt=""></td>
                                <td><p>Cam Sành Hữu Cơ</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>25.000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_45.png" alt=""></td>
                                <td><p>Dưa hấu Adam có hạt hữu cơ</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>60.000 VND</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_55.png" alt=""></td>
                                <td><p>Kiwi Xanh - Pháp</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>150.000 VND</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_26.png" alt=""></td>
                                <td><p>Mãng Cầu Thái</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>50,000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_56.png" alt=""></td>
                                <td><p>Đu Đủ Ruột Đỏ</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>55,000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_13.png" alt=""></td>
                                <td><p>Sầu Riêng Ri 6</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>300,000₫/1 trái</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="img/produ_54.png" alt=""></td>
                                <td><p>Vú Sữa Bơ Hồng</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>65,000₫</p></td>
                                <td><i class="fa fa-times" aria-hidden="true"></i>
                                </td>
                            </tr>
                    </table>
                </div>
                <div class="cart-content-right">
                    <table>
                        <tr>
                            <td colspan="2"><h3>TỔNG TIỀN GIỎ HÀNG</h3></td>
                        </tr>
                        <tr>
                            <td>TỔNG SẢN PHẨM</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td>TỔNG TIỀN HÀNG</td>
                            <td><p>1.145.000₫</p></td>
                        </tr>
                        <tr>
                            <td>TẠM TÍNH</td>
                            <td><p style="color:black; font-weight: bold;">1.145.000₫</p></td>
                        </tr>
                    </table>
                    <div class="cart-content-right-button">
                       <a href="Product.html"><button onclick="continueShopping()">TIẾP TỤC MUA SẢN PHẨM</button></a> 
                        <button onclick="showCheckout()">THANH TOÁN</button>
                    </div>
                    <div class="cart-content-right-dangnhap">
                        <p>TÀI KHOẢN</p><br>
                        <p>Hãy <a href="dangnhap.html">Đăng nhập</a> Tài khoản để tích điểm thành viên</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <br>
            <center>
            <h1>Phiếu thanh toán</h1></center>
            <div class="checkout-container">
                <div class="checkout-form">
                    <form id="checkoutForm" onsubmit="return confirmPayment()">
                        <div class="form-group">
                            <label for="tenkhachhang">Tên khách hàng:</label>
                            <br>
                            <input type="text" id="tenkhachhang" name="tenkhachhang" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="sodienthoai">Số điện thoại:</label>
                            <br>
                            <input type="tel" id="sodienthoai" name="sodienthoai" pattern="[0-9]{10,11}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="diachi">Địa chỉ:</label>  <br>
                            <textarea id="diachi" name="diachi" rows="6" required></textarea>
                        </div>
                        <br><br>
                        <input type="submit" value="Xác nhận thanh toán" class="submit-btn">
                    </form>
                </div>
                <div class="checkout-summary">
                    <h3>Đơn hàng của bạn</h3>
                    <div class="selected-products">
                        <table id="selectedProductsTable">
                            <thead>
                                <tr>
                                    <th>Sản phẩm</th>
                                    <th>Tên sản phẩm</th>
                                    <th>Số lượng</th>
                                    <th>Thành tiền</th>
                                </tr>
                            </thead>
                            <tbody>
                               
                            </tbody>
                        </table>
                    </div>
                    <div class="total">
                        <strong>Tổng cộng:</strong>
                        <span id="totalAmount"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
      function showCheckout() {
    document.getElementById("checkoutModal").style.display = "block";
    populateCheckoutDetails();
}

function closeModal() {
    document.getElementById("checkoutModal").style.display = "none";
}

function populateCheckoutDetails() {
    const selectedProductsTable = document.getElementById('selectedProductsTable').getElementsByTagName('tbody')[0];
    const totalAmountSpan = document.getElementById('totalAmount');
    selectedProductsTable.innerHTML = '';
    const productRows = document.querySelectorAll('.cart-content-left table tr:not(:first-child)');
    let totalAmount = 0;
    productRows.forEach(row => {
        const imgSrc = row.querySelector('td:nth-child(1) img').src;
        const name = row.querySelector('td:nth-child(2) p').textContent;
        const quantity = row.querySelector('td:nth-child(3) input').value;
        const price = row.querySelector('td:nth-child(4) p').textContent;
        const newRow = selectedProductsTable.insertRow();
        newRow.innerHTML = `
            <td><img src="${imgSrc}" alt="${name}"></td>
            <td>${name}</td>
            <td>${quantity}</td>
            <td>${price}</td>
        `;
        totalAmount += parseInt(price.replace(/[^\d]/g, '')) * parseInt(quantity);
    });
    totalAmountSpan.textContent = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(totalAmount);
}
function confirmPayment() {
    alert("Xác nhận thanh toán thành công!");
    return true;
}
    </script>
</body>
</html>
